<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SSLC 2026 Study Master Plan</title>

<!-- Firebase v9.23.0 compat -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<style>
body {
    margin:0;
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg, #0f0f1a, #1a1a2e);
    color: white;
}

/* Loading Screen */
#loadingScreen {
    position: fixed;
    width:100%;
    height:100%;
    background:#0f0f1a;
    display:flex;
    align-items:center;
    justify-content:center;
    z-index:9999;
    font-size:20px;
    color:#FFD700;
}

/* Header */
.header {
    text-align:center;
    padding:20px;
    font-size:22px;
    font-weight:bold;
    color:#FFD700;
}

/* Card */
.card {
    background:#1f1f35;
    margin:15px;
    padding:15px;
    border-radius:12px;
    box-shadow:0 0 15px rgba(255,215,0,0.3);
}

/* Calendar grid */
.calendar {
    display:grid;
    grid-template-columns: repeat(auto-fill,minmax(120px,1fr));
    gap:10px;
    padding:15px;
}

.date-card {
    background:#26264a;
    padding:12px;
    border-radius:10px;
    text-align:center;
    cursor:pointer;
    transition:0.3s;
}

.date-card:hover {
    background:#FFD700;
    color:black;
}

/* Session block */
.session {
    background:#26264a;
    padding:12px;
    margin:10px 0;
    border-radius:10px;
}

/* Bottom Nav */
.bottom-nav {
    position:fixed;
    bottom:0;
    width:100%;
    background:#111122;
    display:flex;
    justify-content:space-around;
    padding:10px 0;
    border-top:1px solid #333;
}

.bottom-nav a {
    color:white;
    text-decoration:none;
    font-size:14px;
}

.active {
    color:#FFD700;
    font-weight:bold;
}

@media(max-width:600px){
    .header {font-size:18px;}
}
</style>
</head>
<body>

<div id="loadingScreen">Checking Access...</div>

<div class="header">
ðŸ“˜ SSLC 2026 â€“ STUDY MASTER PLAN
</div>

<div class="card">
<h3 style="color:#FFD700;">ðŸ—“ Exam Timetable</h3>
<p>March 18 â€“ Kannada</p>
<p>March 23 â€“ Science</p>
<p>March 25 â€“ English</p>
<p>March 28 â€“ Mathematics</p>
<p>March 30 â€“ Hindi</p>
<p>April 2 â€“ Social Science</p>
</div>

<div class="card">
<h3 style="color:#FFD700;">ðŸ“… Master Calendar</h3>
<div class="calendar" id="calendarGrid"></div>
</div>

<div class="card" id="dailyView" style="display:none;">
<h3 id="selectedDateTitle" style="color:#FFD700;"></h3>
<div id="sessionContainer"></div>
</div>

<!-- Bottom Navigation -->
<div class="bottom-nav">
<a href="dashboard.html">Dashboard</a>
<a href="live.html">Live</a>
<a href="notes.html">Notes</a>
<a href="recorded.html">Recorded</a>
<a href="timetable.html" class="active">Timetable</a>
<a href="profile.html">Profile</a>
</div>

<script>
// ðŸ”¥ Replace with your Firebase config
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_DOMAIN",
  projectId: "YOUR_PROJECT_ID"
};

firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.firestore();

// Access Control
auth.onAuthStateChanged(user => {
  if(!user){
    window.location.href="profile.html";
  } else {
    db.collection("users").doc(user.uid).get().then(doc=>{
      if(doc.exists && doc.data().paymentStatus === "paid"){
          document.getElementById("loadingScreen").style.display="none";
      } else {
          window.location.href="profile.html";
      }
    });
  }
});

// Timetable Data Structure
const timetable = {
"March 1": [
{time:"4:00â€“10:00", subjects:"Kannada, Science"},
{time:"11:00â€“2:30", subjects:"Mathematics, Social"},
{time:"4:00â€“10:30", subjects:"English, Hindi, Science Revision"}
],
"March 2": [
{time:"4:30â€“7:30", subjects:"Kannada, Science"},
{time:"5:00â€“11:30", subjects:"Mathematics, Social, English"}
],
"March 3": [
{time:"Morning", subjects:"Kannada, Science"},
{time:"Evening", subjects:"Mathematics, Social, Hindi"}
],
"March 4": [
{time:"Morning", subjects:"Kannada, Science"},
{time:"Evening", subjects:"Mathematics, English, Social"}
],
"March 5": [
{time:"Morning", subjects:"Kannada, Science"},
{time:"Evening", subjects:"Mathematics, Social, Hindi"}
],
"March 6": [
{time:"Morning", subjects:"Kannada, Science"},
{time:"Evening", subjects:"Mathematics, English, Social"}
],
"March 7": [
{time:"Morning", subjects:"Kannada, Science"},
{time:"Afternoon + Evening", subjects:"Mathematics, Social, English"}
],
"March 8": [
{time:"Morning", subjects:"Kannada (Heavy)"},
{time:"Mid", subjects:"Science (Heavy)"},
{time:"Evening", subjects:"Maths, Social, English, Hindi"}
]
};

// Generate Calendar
const calendarGrid = document.getElementById("calendarGrid");

for(let i=1;i<=31;i++){
  const date = "March "+i;
  const div = document.createElement("div");
  div.className="date-card";
  div.innerText = date;
  div.onclick = ()=> showDay(date);
  calendarGrid.appendChild(div);
}

// Show daily details
function showDay(date){
  const data = timetable[date];
  const dailyView = document.getElementById("dailyView");
  const container = document.getElementById("sessionContainer");
  const title = document.getElementById("selectedDateTitle");

  container.innerHTML="";
  title.innerText = "ðŸ“† "+date;

  if(data){
      data.forEach(session=>{
          container.innerHTML += `
          <div class="session">
              <strong style="color:#FFD700;">${session.time}</strong>
              <p>${session.subjects}</p>
          </div>
          `;
      });
  } else {
      container.innerHTML = "<p>No detailed split added yet. Updates coming soon.</p>";
  }

  dailyView.style.display="block";
  window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"});
}
</script>

</body>
</html>
